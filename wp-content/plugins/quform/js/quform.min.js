!function(e,t){"use strict";var o;o=function(){function o(t,i){if(this.$form=e(t),this.submitted=!1,this.nextUploadId=1,this.removedUploadUids=[],this.uploadQueue=[],this.uploadElements=[],this.logicCache={},!this.$form.length)throw new Error("Form not found.");if(this.$form.data("quform"))throw new Error("Quform already attached.");this.$form.data("quform",this),this.options=e.extend({},o.defaults,i),e.isFunction(e.fn.smoothScroll)||(this.options.scrolling=!1),this.$wrapper=this.$form.closest(".quform"),this.$elements=e(".quform-elements",this.$form),this.$loading=e(".quform-loading",this.$form),this.currentPageId=this.options.currentPageId,this.submitStartTime=0,this.submitEndTime=0,this.successTimeout=null,this.errorShowFunction=this.$wrapper.hasClass("quform-errors-absolute")?"fadeIn":"quformShowSlide",this.init()}return o.defaults={errorsIcon:"",scrolling:!0,scrollSpeed:800,scrollDelay:0,scrollOffset:-50,hasPages:!1,pages:[],logic:{logic:[],dependents:[],elementIds:[],dependentElementIds:[],animate:!0}},o.prototype.init=function(){var t=this;this.setupInsideLabels(),this.setupEnhancedSelects(),this.setupEnhancedUploaders(),this.setupDatepickers(),this.setupTimepickers(),this.applyAllLogic(!0),this.setupTooltips(),this.setupCaptchaImages(),this.$wrapper.hasClass("quform-prevent-fouc")&&this.$wrapper.removeClass("quform-prevent-fouc"),this.options.ajax&&(t.$form.on("submit",function(e){if(e.preventDefault(),window.grecaptcha){var o=t.$form.find(".quform-recaptcha");if(o.length){if("invisible"==o.data("config").size)return void window.grecaptcha.execute(o.data("recaptcha-id"))}}t.submit()}),e(".quform-back",t.$form).on("click",function(e){e.preventDefault(),t.submit("back")})),e(".quform-field-select.quform-submit-on-choice").change(function(){t.$form.submit()}),e(".quform-field-radio.quform-submit-on-choice").click(function(){t.$form.submit()}),e(".quform-button-submit > button",this.$form).each(function(){var o,i,r=e(this),n=r.closest(".quform-button-submit"),a=n.data("animation"),s=1e3,u=t.options.scrollDelay;a&&(o="quform-button-animation-"+a,"two"==a&&(s=3200),r.click(function(){t.options.scrollDelay=s,n.removeClass(o),"number"==typeof i&&(clearTimeout(i),i=null),setTimeout(function(){n.addClass(o),i=setTimeout(function(){n.removeClass(o),t.options.scrollDelay=u},s)},4)}))})},o.prototype.setupInsideLabels=function(){if(!e.InFieldLabels)return void e(".quform-labels-inside > .quform-spacer > .quform-label",this.$form).show();e(".quform-labels-inside > .quform-spacer > .quform-label",this.$form).each(function(){var t=e(this),o=t.parent().find(".quform-input"),i=o.find(".quform-field");t.addClass("quform-label-inside").css({top:parseInt(i.css("padding-top"),10)+parseInt(i.css("border-top-width"),10),left:parseInt(i.css("padding-left"),10)+parseInt(i.css("border-left-width"),10)}).prependTo(o),new e.InFieldLabels(t[0],i[0])})},o.prototype.setupEnhancedSelects=function(){if("function"==typeof e.fn.select2){var t=this;e(".quform-field-select-enhanced",t.$form).each(function(){var i=e(this),r=i.data("options"),n={theme:"quform",language:{noResults:function(){return r.noResultsFound}}};r.search||(n.minimumResultsForSearch=Infinity),r.rtl&&(n.dir="rtl"),i.select2(n);var a="quform-"+t.options.id+"-select2";o.isNonEmptyString(t.options.theme)&&(a+=" quform-theme-"+t.options.theme),i.on("select2:opening",function(){i.data("select2").$dropdown.addClass(a)})}),e(".quform-field-multiselect-enhanced",t.$form).each(function(){var i=e(this),r=i.data("options"),n={theme:"quform",language:{noResults:function(){return r.noResultsFound}}};o.isNonEmptyString(r.placeholder)&&(n.placeholder=r.placeholder),r.rtl&&(n.dir="rtl"),i.select2(n);var a="quform-"+t.options.id+"-select2";o.isNonEmptyString(t.options.theme)&&(a+=" quform-theme-"+t.options.theme),i.on("select2:opening",function(){i.data("select2").$dropdown.addClass(a)})})}},o.prototype.setupEnhancedUploaders=function(){if(e.isFunction(e.fn.fileupload)&&e.support.xhrFileUpload&&e.support.xhrFormDataFileUpload){var t=this;e(".quform-field-file-enhanced",t.$form).each(function(){var o,i=e(this),r=i.closest(".quform-input-file"),n=i.data("config"),a=e('<div class="quform-upload-files quform-cf">').insertAfter(r).hide();n.queued=0,t.uploadElements.push(n),o="dropzone"==n.buttonType?t.createUploadButton("quform-upload-dropzone",n):t.createUploadButton("quform-upload-button",n),r.append(o.append(i));var s=i.closest(".quform-element").addClass("quform-enhanced-upload");i.fileupload({dataType:"json",paramName:n.name+"[]",dropZone:o,change:function(){s.find(".quform-error").empty().remove()},add:function(e,o){t.uploadAdd(o,n,a)},start:function(){e(".quform-upload-progress-wrap",t.$form).show()},progress:function(o,i){var r=Math.min(100,i.loaded/i.total*100);e(".quform-upload-progress-bar",t.$form).css("width",r+"%"),e(".quform-upload-filename",t.$form).text(i.files[0].name)}})})}},o.prototype.createUploadButton=function(t,i){var r=e('<div class="'+t+'">');if(r.append(e('<span class="'+t+'-text">').text(i.buttonText)),o.isNonEmptyString(i.buttonIcon)){var n=e('<span class="'+t+'-icon">').append(e('<i class="'+i.buttonIcon+'">'));r.addClass(t+"-icon-"+i.buttonIconPosition),"right"==i.buttonIconPosition?r.append(n):r.prepend(n)}return r},o.prototype.setupDatepickers=function(){if(e.isFunction(e.fn.kendoDatePicker)){var t=this;e(".quform-field-date",t.$form).each(function(){var i=e(this).addClass("quform-field-date-enhanced"),r=i.closest(".quform-input-date"),n=r.find("> .quform-field-icon"),a=i.data("options"),s=e("<input>",{type:"hidden",name:i.attr("name"),value:i.val()}).data("default",i.val()).addClass("quform-field-date-hidden").insertAfter(i);i.attr("name",""),a.placeholder?i.attr("placeholder",a.placeholder):i.removeAttr("placeholder");var u={start:a.start||"month",depth:a.depth||"month",culture:a.locale||"en-US"};if(a.format?u.format=a.format:u.format=kendo.getCulture(a.locale).calendars.standard.patterns.d,a.showFooter||(u.footer=!1),a.min)if("{today}"==a.min)u.min=new Date;else{var l=kendo.parseDate(a.min,"yyyy-MM-dd");null!==l&&(u.min=l)}if(a.max)if("{today}"==a.max)u.max=new Date;else{var c=kendo.parseDate(a.max,"yyyy-MM-dd");null!==c&&(u.max=c)}i.kendoDatePicker(u),i.removeClass("k-input").closest(".k-datepicker").removeClass().addClass("k-widget k-datepicker k-header");var f=i.data("kendoDatePicker"),d="quform-datepicker quform-"+t.options.id+"-datepicker";o.isNonEmptyString(t.options.theme)&&(d+=" quform-theme-"+t.options.theme),f.dateView.popup.element.addClass(d),r.find(".k-select").hide(),n.click(function(){r.find(".k-select").click()}),n.mousedown(function(e){e.preventDefault(),e.stopPropagation()});var m=function(){var e=i.val();if(o.isNonEmptyString(e)){var t=kendo.parseDate(e,u.format,u.culture);null===t?s.val("9999-99-99"):s.val(kendo.toString(t,"yyyy-MM-dd"))}else s.val("")};if(f.bind("change",m),i.on("blur.quformDatePicker keyup.quformDatePicker",m),a.today)f.value(new Date),m();else{var p=i.val();if(o.isNonEmptyString(p)){var h=kendo.parseDate(p,"yyyy-MM-dd");null!==h&&(f.value(h),m())}}})}},o.prototype.setupTimepickers=function(){if(e.isFunction(e.fn.kendoTimePicker)){var t=this;e(".quform-field-time",t.$form).each(function(){var i=e(this).addClass("quform-field-time-enhanced"),r=i.closest(".quform-input-time"),n=r.find("> .quform-field-icon"),a=i.data("options"),s=e("<input>",{type:"hidden",name:i.attr("name"),value:i.val()}).data("default",i.val()).addClass("quform-field-time-hidden").insertAfter(i);i.attr("name",""),a.placeholder?i.attr("placeholder",a.placeholder):i.removeAttr("placeholder");var u={interval:a.interval&&e.isNumeric(a.interval)?parseInt(a.interval,10):30,culture:a.locale||"en-US"};if(a.format?u.format=a.format:u.format=kendo.getCulture(a.locale).calendars.standard.patterns.t,a.min)if("{now}"==a.min)u.min=new Date;else{var l=kendo.parseDate(a.min,"HH:mm");null!==l&&(u.min=l)}if(a.max)if("{now}"==a.max)u.max=new Date;else{var c=kendo.parseDate(a.max,"HH:mm");null!==c&&(u.max=c)}i.kendoTimePicker(u),i.removeClass("k-input").closest(".k-timepicker").removeClass().addClass("k-widget k-timepicker k-header");var f=i.data("kendoTimePicker"),d="quform-timepicker quform-"+t.options.id+"-timepicker";o.isNonEmptyString(t.options.theme)&&(d+=" quform-theme-"+t.options.theme),f.timeView.popup.element.addClass(d),r.find(".k-select").hide(),n.click(function(){r.find(".k-select").click()}),n.mousedown(function(e){e.preventDefault(),e.stopPropagation()});var m=function(){var e=i.val();if(o.isNonEmptyString(e)){var t=kendo.parseDate(e,u.format,u.culture);null===t?s.val("99:99"):s.val(kendo.toString(t,"HH:mm"))}else s.val("")};if(f.bind("change",m),i.on("blur.quformTimePicker keyup.quformTimePicker",m),a.now)f.value(new Date),m();else{var p=i.val();if(o.isNonEmptyString(p)){var h=kendo.parseDate(p,"HH:mm");null!==h&&(f.value(h),m())}}})}},o.prototype.setupTooltips=function(){if(e.isFunction(e.fn.qtip)&&this.options.tooltipsEnabled){var t={style:{classes:this.options.tooltipClasses},position:{my:this.options.tooltipMy,at:this.options.tooltipAt,viewport:!0,adjust:{method:"shift shift"}}};e(".quform-tooltip-hover",this.$form).qtip(e.extend({},t,{content:{text:function(){return e(this).closest(".quform-input").find("> .quform-tooltip-content").html()}}})),e(".quform-tooltip-click",this.$form).qtip(e.extend({},t,{show:{event:"focus"},hide:{event:"unfocus"},content:{text:function(){return e(this).closest(".quform-input").find("> .quform-tooltip-content").html()}}})),e(".quform-tooltip-icon-hover",this.$form).qtip(e.extend({},t,{content:{text:function(){return e(this).find(".quform-tooltip-icon-content").html()}}})),e(".quform-tooltip-icon-click",this.$form).qtip(e.extend({},t,{show:{event:"click"},hide:{event:"unfocus"},content:{text:function(){return e(this).find(".quform-tooltip-icon-content").html()}}})),e(".quform-labels-inside > .quform-spacer > .quform-inner > .quform-input > .quform-label",this.$form).hover(function(){e(this).siblings(".quform-tooltip-hover").qtip("show")},function(){e(this).siblings(".quform-tooltip-hover").qtip("hide")})}},o.prototype.setupCaptchaImages=function(){e(".quform-captcha-image img",this.$form).hover(function(){e(this).stop().fadeTo(400,"0.3")},function(){e(this).stop().fadeTo(400,"1.0")}).click(function(){var i=e(this);e.ajax({type:"GET",url:t.ajaxUrl,dataType:"json",data:{action:"quform_regenerate_captcha",quform_form_id:i.data("form-id"),quform_element_id:i.data("element-id"),quform_unique_id:i.data("unique-id")}}).done(function(e){e=o.sanitiseResponse(e),"success"==e.type&&i.attr("src",e.image)})})},o.prototype.applyAllLogic=function(e){this.logicCache={},this.options.logic.elementIds.length&&(this.applyLogic(this.options.logic.elementIds,e),e&&this.applyDependentLogic(this.options.logic.dependentElementIds))},o.prototype.applyLogic=function(e,t){for(var o=0,i=e.length;o<i;o++)this.applyElementLogic(e[o],t)},o.prototype.applyElementLogic=function(t,o){if(this.options.logic&&this.options.logic.logic){var i=this.options.logic.logic[t];if(i&&i.rules&&i.rules.length){for(var r=0,n=i.action,a=this.options.id+"_"+t,s=0;s<i.rules.length;s++)this.isLogicRuleMatch(i.rules[s])&&r++;"any"==i.match&&r>0||"all"==i.match&&r==i.rules.length||(n=!n);var u=e(".quform-element-"+a),l=this,c=n?"show":"hide";!o&&this.options.logic.animate?u.animate({opacity:c,height:c,marginTop:c,marginBottom:c,paddingTop:c,paddingBottom:c},{duration:400,complete:function(){l.updateFancybox()}}):(u[c](),o||l.updateFancybox())}}},o.prototype.applyDependentLogic=function(t){if(this.options.logic&&this.options.logic.dependents)for(var o=this,i=0,r=t.length;i<r;i++){var n=this.options.logic.dependents[t[i]],a=this.options.id+"_"+t[i],s=e(".quform-field-"+a,this.$form);if(s.length){var u;s.is("select")?u="change.quform":s.is("input[type=checkbox]")||s.is("input[type=radio]")?u="click.quform":s.is('textarea, input[type="text"], input[type="email"], input[type="password"]')&&(u="keyup.quform blur.quform",(s.hasClass("quform-field-date-enhanced")||s.hasClass("quform-field-time-enhanced"))&&(u="change.quform")),u&&function(e,t,i,r){e.on(t,function(){o.logicCache[r]=[],setTimeout(function(){o.applyLogic(i)},0)})}(s,u,n,a)}}},o.prototype.isLogicRuleMatch=function(t){var o=this.options.id+"_"+t.elementId;if(e.isArray(this.logicCache[o])){if(this.logicCache[o].length)for(var i=0,r=this.logicCache[o].length;i<r;i++)if(this.logicCache[o][i].operator===t.operator&&this.logicCache[o][i].value===t.value)return this.logicCache[o][i].result}else this.logicCache[o]=[];var n,a,s=e(".quform-field-"+o,this.$form);if(s.length){if(s.is('select:not([multiple]), textarea, input[type="text"], input[type="email"], input[type="password"]')){var u=s.val();return s.hasClass("quform-field-date-enhanced")?(a="date",u=s.closest(".quform-input").find(".quform-field-date-hidden").val()):s.hasClass("quform-field-time-enhanced")&&(a="time",u=s.closest(".quform-input").find(".quform-field-time-hidden").val()),n=this.isLogicValueMatch(u,t,a),this.logicCache[o].push({value:t.value,result:n}),n}if(s.is("input[type=checkbox]")||s.is("input[type=radio]")){var l=this;return n=!1,e.each(s,function(){if(e(this).is(":checked")&&l.isLogicValueMatch(e(this).val(),t))return n=!0,!1}),this.logicCache[o].push({value:t.value,result:n}),n}if(s.is("select[multiple]")){var c,l=this,u=s.val();if(n=!1,"empty"==t.operator)n=null===u;else if("not_empty"==t.operator)n=null!==u;else if(e.isArray(u))for(c=0;c<u.length;c++)if(l.isLogicValueMatch(u[c],t)){n=!0;break}return this.logicCache[o].push({value:t.value,result:n}),n}}return this.logicCache[o].push({value:t.value,result:!1}),!1},o.prototype.isLogicValueMatch=function(t,i,r){switch("string"!=typeof t&&(t=""),i.operator){case"eq":return t===i.value;case"neq":return t!==i.value;case"empty":return""===t;case"not_empty":return""!==t;case"gt":return"date"==r?1===o.compareDates(t,i.value):"time"==r?1===o.compareTimes(t,i.value):e.isNumeric(t)&&t>i.value;case"lt":return"date"==r?-1===o.compareDates(t,i.value):"time"==r?-1===o.compareTimes(t,i.value):e.isNumeric(t)&&t<i.value;case"contains":return-1!==t.indexOf(i.value);case"starts_with":return 0===t.indexOf(i.value);case"ends_with":return-1!==t.indexOf(i.value,i.value.length)}return!1},o.prototype.uploadAdd=function(i,r,n){var a=this,s=i.files[0];if(r.max&&r.queued===r.max)return void this.addElementError(r.identifier,r.tooMany.replace("%max%",r.max))[this.errorShowFunction]();if(r.allowedExtensions&&!o.isValidFile(s,r.allowedExtensions))return void this.addElementError(r.identifier,r.notAllowedTypeWithFilename.replace("%filename%",s.name))[this.errorShowFunction]();if(r.size&&s.size>r.size)return void this.addElementError(r.identifier,r.tooBigWithFilename.replace("%filename%",s.name))[this.errorShowFunction]();var u=this.nextUploadId++;i.formData={quform_ajax_uploading:1,quform_form_id:this.options.id,quform_form_uid:this.options.uniqueId,quform_element_id:r.id,quform_element_identifier:r.identifier,quform_upload_id:u},this.uploadQueue.push(i),r.queued++;var l=i.context=e('<div class="quform-upload-file">').data("quform-upload-id",u);e('<span class="quform-upload-file-name">').text(s.name).appendTo(l),e('<span class="quform-upload-file-remove">').attr("title",t.removeFile).click(function(){for(var t=e(this).closest(".quform-upload-file"),o=t.data("quform-upload-id"),i=a.uploadQueue.length;i--;)a.uploadQueue[i].formData.quform_upload_id==o&&a.uploadQueue.splice(i,1);t.data("quform-upload-uid")&&a.removedUploadUids.push(t.data("quform-upload-uid")),t.remove(),0===n.children().length&&n.hide(),r.queued--}).appendTo(l),n.append(l).show()},o.prototype.processUploadQueue=function(){var i=this,r=i.uploadQueue.shift();r.submit().done(function(t){t=o.sanitiseResponse(t),"success"==t.type?(r.context.addClass("quform-uploaded").append(e('<span class="quform-upload-tick"><i class="qicon-check">')).data("quform-upload-uid",t.uid),i.uploadQueue.length?i.processUploadQueue():(e(".quform-upload-progress-wrap",i.$form).hide(),i.submitted=!1,i.submit())):i.uploadError(r,t.message)}).fail(function(){i.uploadError(r,t.ajaxError)})},o.prototype.uploadError=function(t,o){e(".quform-upload-progress-wrap",this.$form).hide(),this.uploadQueue.unshift(t),this.allowResubmission(),this.addElementError(t.formData.quform_element_identifier,o)[this.errorShowFunction](),this.scrollTo(e(".quform-element-"+t.formData.quform_element_identifier,this.$form))},o.prototype.submit=function(e){var i=this;if(!i.submitted){if(i.submitStartTime=o.timeNow(),i.submitted=!0,e="back"==e?"back":"submit",i.$form.trigger("quform:submit",[i,e]),i.$loading.fadeIn().addClass("quform-loading-triggered"),"submit"==e&&this.uploadQueue.length)return void i.processUploadQueue();var r={quform_ajax:1,quform_submit:e,quform_removed_upload_uids:i.removedUploadUids.join(",")};i.$form.ajaxSubmit({type:"POST",data:r,dataType:"json",iframe:!0,url:"",success:function(e){switch(i.submitEndTime=o.timeNow(),e=o.sanitiseResponse(e),e.type){case"success":i.responseSuccess(e.confirmation);break;case"error":i.responseError(e);break;case"page":i.allowResubmission(),i.goToPage(e.page);break;case"invalid":i.responseInvalid(e)}},error:function(){i.submitEndTime=o.timeNow(),i.responseInvalid({message:t.ajaxError})}})}},o.prototype.responseSuccess=function(e){var t=this;t.$form.trigger("quform:successStart",[t,e]),t.$loading.addClass("quform-loading-success");var o=function(){switch(e.type){case"message":t.reset(e.resetForm),t.showSuccessMessage(e);break;case"message-redirect-page":case"message-redirect-url":t.showSuccessMessage(e),setTimeout(function(){window.location=e.redirectUrl},1e3*parseFloat(e.redirectDelay));break;case"redirect-page":case"redirect-url":window.location=e.redirectUrl;break;case"reload":window.location.reload()}};e.hideForm?t.$elements.quformHideSlide(function(){o()}):o()},o.prototype.showSuccessMessage=function(t){var i=this,r=e('<div class="quform-success-message-animate">').hide(),n=e('<div class="quform-success-message">').appendTo(r);o.isNonEmptyString(t.messageIcon)&&n.addClass("quform-success-message-has-icon").append('<div class="quform-success-message-icon"><i class="'+t.messageIcon+'"></i></div>'),n.append(e('<div class="quform-success-message-content">').html(t.message)),r["below"==t.messagePosition?"insertAfter":"insertBefore"](i.$elements).quformShowSlide(),setTimeout(function(){i.scrollTo(r)},i.getScrollDelay());var a=1e3*parseFloat(t.messageTimeout);a>0&&(i.successTimeout=setTimeout(function(){r.quformHideSlide()},a))},o.prototype.responseError=function(t){var o=this,i=null,r=!1;o.$form.trigger("quform:errorStart",[o,t]),o.allowResubmission(),"object"==typeof t.error&&null!==t.error&&t.error.enabled&&"string"==typeof t.error.content&&t.error.content.length&&(o.errorMessage(t.error.content,t.error.title),r=!0),e.each(t.errors,function(t,r){var n=e(".quform-element-"+t,o.$form);n.length&&(o.addElementError(t,r),i||(i=n))}),o.options.hasPages&&t.page!==o.currentPageId&&o.goToPage(t.page),e(".quform-error",o.$form)[this.errorShowFunction](),r||setTimeout(function(){o.scrollTo(i)},o.getScrollDelay()),o.updateFancybox(),o.$form.trigger("quform:errorEnd",[o,t])},o.prototype.responseInvalid=function(e){this.allowResubmission(),this.errorMessage(e.message,t.errorMessageTitle)},o.prototype.goToPage=function(t){var o=e(".quform-page-"+t,this.$form);if(o.length&&this.options.pages.length>1){var i=e.inArray(t,this.options.pages);if(i>-1){this.currentPageId=t,e('input[name="quform_current_page_id"]',this.$form).val(t),e(".quform-current-page",this.$form).hide().removeClass("quform-current-page"),o.show().addClass("quform-current-page"),this.scrollTo(this.$form);var r=Math.round((i+1)/this.options.pages.length*100);"numbers"==this.options.pageProgressType||"percentage"==this.options.pageProgressType?(e(".quform-page-progress-bar",this.$form).width(r+"%"),"numbers"==this.options.pageProgressType?e(".quform-page-progress-text > .quform-page-progress-number",this.$form).text(i+1):e(".quform-page-progress-text > .quform-page-progress-percentage",this.$form).text(r)):"tabs"==this.options.pageProgressType&&(e(".quform-page-progress-tab.quform-current-tab",this.$form).removeClass("quform-current-tab"),e(".quform-page-progress-tab").filter(function(){return e(this).data("id")==t}).addClass("quform-current-tab"))}}},o.prototype.allowResubmission=function(){var t=this;t.$loading.removeClass("quform-loading-triggered").fadeOut(function(){t.$loading.removeClass("quform-loading-success")}),e(".quform-error-message, .quform-error, .quform-success-message-animate",t.$form).remove(),e(".quform-has-error",t.$form).removeClass("quform-has-error"),"number"==typeof t.successTimeout&&(clearTimeout(t.successTimeout),t.successTimeout=null),window.grecaptcha&&e(".quform-recaptcha",t.$form).each(function(){try{window.grecaptcha.reset(e(this).data("recaptcha-id"))}catch(t){}}),t.submitted=!1},o.prototype.reset=function(t){switch(this.allowResubmission(),t){default:case"":this.$form.resetForm(),e("input.quform-field-date-enhanced",self.$form).each(function(){var t=e(this),i=t.closest(".quform-input").find(".quform-field-date-hidden"),r=i.data("default"),n=t.data("kendoDatePicker");r=o.isNonEmptyString(r)?kendo.parseDate(r,"yyyy-MM-dd"):null,n.value(r),n.trigger("change"),n.dateView.calendar&&n.dateView.calendar.navigate(null===r?new Date:r)}),e("input.quform-field-time-enhanced",self.$form).each(function(){var t=e(this),i=t.closest(".quform-input").find(".quform-field-time-hidden"),r=i.data("default"),n=t.data("kendoTimePicker");r=o.isNonEmptyString(r)?kendo.parseDate(r,"HH:mm"):null,n.value(r),n.trigger("change")}),e(".quform-field-hidden",self.$form).each(function(){var t=e(this);t.val(t.data("default")).change()});break;case"clear":this.$form.clearForm(),e("select",this.$form).each(function(){e(this).prop("selectedIndex",0)}),e("input.quform-field-date-enhanced",self.$form).each(function(){var t=e(this).data("kendoDatePicker");t.value(null),t.trigger("change"),t.dateView.calendar&&t.dateView.calendar.navigate(new Date)}),e("input.quform-field-time-enhanced",self.$form).each(function(){var t=e(this).data("kendoTimePicker");t.value(null),t.trigger("change")}),e(".quform-field-hidden",self.$form).val("").change();break;case"keep":}e(".quform-captcha-image img",this.$form).trigger("click"),e('input[type="text"], input[type="email"], textarea',this.$form).blur(),this.applyAllLogic(),e(".quform-field-select-enhanced, .quform-field-multiselect-enhanced",this.$form).trigger("change"),this.removedUploadUids=[],e(".quform-upload-files",this.$form).empty().hide();for(var i=0,r=this.uploadElements.length;i<r;i++)this.uploadElements[i].queued=0;e('input[type="file"]',this.$form).each(function(){var t=e(this);t.replaceWith(t.val("").clone(!0))}),e(".qtip").hide(),this.options.hasPages&&this.goToPage(this.options.pages[0])},o.prototype.errorMessage=function(t,o){var i=this,r=e('<div class="quform-error-message">').hide(),n=e('<div class="quform-error-message-inner">');"string"==typeof o&&o.length&&n.append(e('<div class="quform-error-message-title">').html(o)),n.append(e('<div class="quform-error-message-content">').html(t)).appendTo(r),i.$elements.prepend(r),r.quformShowSlide(),setTimeout(function(){i.scrollTo(r)},i.getScrollDelay())},o.prototype.addElementError=function(t,i){var r=e('<div class="quform-error quform-cf">'),n=e('<div class="quform-error-inner">').appendTo(r);if(o.isNonEmptyString(this.options.errorsIcon)&&n.append(e('<span class="quform-error-icon">').append('<i class="'+this.options.errorsIcon+'"></i>')),n.append(e('<span class="quform-error-text">').html(i)),this.$wrapper.hasClass("quform-errors-absolute")){var a=e('<span class="quform-error-close">').append('<i class="qicon-close">');a.click(function(){e(this).closest(".quform-error").fadeOut()}),n.append(a)}return e(".quform-element-"+t,this.$form).addClass("quform-has-error"),e(".quform-input-"+t,this.$form).after(r),r},o.prototype.scrollTo=function(t){if(this.options.scrolling&&t&&t.length){var i=this.getScrollElement();!i&&o.isScrolledIntoView(t)||e.smoothScroll({scrollElement:i,offset:this.options.scrollOffset,scrollTarget:t,speed:this.options.scrollSpeed})}},o.prototype.getScrollDelay=function(){return this.options.scrollDelay>0?o.clamp(this.options.scrollDelay-(this.submitEndTime-this.submitStartTime),0,3200):0},o.prototype.getScrollElement=function(){var e=null;return this.$form.closest(".fancybox-inner").length?e=this.$form.closest(".fancybox-inner"):this.$form.closest("#fancybox-content").length?this.$form.closest(".quform").hasClass("quform-custom-height")&&(e=this.$form.closest("#fancybox-content > div")):this.$form.closest(".mfp-wrap").length&&(e=this.$form.closest(".quform").hasClass("quform-max-height")?this.$form.closest(".quform"):this.$form.closest(".mfp-wrap")),e},o.prototype.updateFancybox=function(){if(this.options.updateFancybox&&e.isFunction(e.fn.fancybox)){var t;e.fancybox.version?(t=e(".fancybox-wrap"),t.length&&t.is(":visible")&&e.fancybox.update()):(t=e("#fancybox-wrap"),t.length&&t.is(":visible")&&e.fancybox.resize())}},o.isScrolledIntoView=function(t){var o=e(window).scrollTop(),i=o+e(window).height(),r=t.offset().top,n=r+t.height();return n>=o&&r<=i&&n<=i&&r>=o},o.formatFileSize=function(e){return e>=1073741824?e=Math.round(e/1073741824*10)/10+" GB":e>=1048576?e=Math.round(e/1048576*10)/10+" MB":e>=1024?e=Math.round(e/1024*10)/10+" KB":e+=" bytes",e},o.preLoadImages=function(e,t){for(var i=0;i<e.length;i++){var r=new Image;r.src=t?t+e[i]:e[i],o.preLoadImages.cache.push(r)}},o.preLoadImages.cache=[],o.sanitiseResponse=function(e){return null!==e&&"object"==typeof e&&"string"==typeof e.type&&0!==e.type.length||(e={type:"invalid",message:"The response from the server was invalid or malformed"}),e},o.compareDates=function(e,t){if(!o.isNonEmptyString(e)||!o.isNonEmptyString(t))return!1;if(e=kendo.parseDate(e,"yyyy-MM-dd"),t=kendo.parseDate(t,"yyyy-MM-dd"),null===e||null===t)return!1;var i=e.getTime(),r=t.getTime();return i<r?-1:i>r?1:0},o.compareTimes=function(e,t){if(!o.isNonEmptyString(e)||!o.isNonEmptyString(t))return!1;if(e=kendo.parseDate(e,"HH:mm"),t=kendo.parseDate(t,"HH:mm"),null===e||null===t)return!1;var i=e.getTime(),r=t.getTime();return i<r?-1:i>r?1:0},o.isValidFile=function(e,t){var o,i;if(!t.length)return!0;for(o=0,i=t.length;o<i;o++)if(-1!==e.name.toLowerCase().indexOf(t[o].toLowerCase(),e.name.length-t[o].length))return!0;return!1},o.isNonEmptyString=function(e){return"string"==typeof e&&e.length},o.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},o.timeNow=function(){return(new Date).getTime()},o.setupPopupLinks=function(){(e.isFunction(e.fn.fancybox)||e.isFunction(e.fn.magnificPopup))&&e(".quform-popup-link").each(function(){var t=e(this);if(!t.data("quform-processed")){var o,i="#quform-"+t.data("unique-id"),r=e(i),n=t.data("options")||{};e.isFunction(e.fn.fancybox)?(e.fancybox.version?(o={type:"inline",wrapCSS:"quform-fancybox-2-popup",href:i,beforeClose:function(){e(".qtip").hide()}},(n.width||n.height)&&("undefined"==typeof n.autoSize&&(n.autoSize=!1),n.width||"undefined"!=typeof n.autoWidth||(n.autoWidth=!0),n.height||"undefined"!=typeof n.autoHeight||(n.autoHeight=!0))):(o={inline:!0,href:i,onStart:function(){e("#fancybox-outer").css("opacity",0),e("#fancybox-wrap").addClass("quform-fancybox-1-popup")},onComplete:function(){window.grecaptcha&&e("#fancybox-content .quform-recaptcha").each(function(){try{window.grecaptcha.reset(e(this).data("recaptcha-id"))}catch(t){}}),e("#fancybox-wrap, #fancybox-content").css({width:"auto"}),e.fancybox.center(0),setTimeout(function(){e("#fancybox-outer").animate({opacity:1},200),e("#fancybox-overlay").css({height:e(document).height()})},1)},onClosed:function(){e("#fancybox-wrap").removeClass("quform-fancybox-1-popup")}},(n.width||n.height)&&"undefined"==typeof n.autoDimensions&&(n.autoDimensions=!1),n.height&&r.addClass("quform-custom-height")),t.fancybox(e.extend(o,n))):e.isFunction(e.fn.magnificPopup)&&(o={items:{src:r,type:"inline"},mainClass:"quform-magnific-popup"},n.width&&(r.css({maxWidth:e.isNumeric(n.width)?n.width+"px":n.width}),delete n.width),n.height&&(r.css({maxHeight:e.isNumeric(n.height)?n.height+"px":n.height}).addClass("quform-max-height"),delete n.height),t.magnificPopup(e.extend(o,n))),t.data("quform-processed",!0)}})},o.recaptchaLoaded=function(){window.grecaptcha&&e(".quform-recaptcha").each(function(){var t=e(this),o=t.data("config");"invisible"==o.size&&(o.callback=function(){t.closest(".quform-form").data("quform").submit()}),t.data("recaptcha-id",window.grecaptcha.render(t[0],o))})},o}(),window.Quform=o,window.QuformRecaptchaLoaded=o.recaptchaLoaded,e.fn.extend({quform:function(){return this.each(function(){return new o(this,e(this).data("options")||{})})},quformHideSlide:function(t,o){var i={height:"hide",opacity:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},r={duration:400};return t&&(r.complete=t),o&&(i=e.extend(i,o)),this.animate(i,r)},quformShowSlide:function(t,o){var i={height:"show",opacity:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},r={duration:400};return t&&(r.complete=t),o&&(i=e.extend(i,o)),this.animate(i,r)}}),e(document).ready(function(){e(".quform-form").quform(),o.setupPopupLinks()})}(jQuery,quformL10n);