var quform=function(n,t,e){"use strict";function i(n,t){var e;n.click(function(){return e||(e=wp.media(t.mediaOptions),e.on("select",function(){t.callback.apply(this,[e.state().get("selection")])}),e.on("close",function(){t.onClose.apply(this)})),t.onOpen.apply(this),e.open(),!1})}function o(){this.items={}}var r,s,a=[],d={},l=t(document),c=null;return r={settingWrap:".qfb-setting",settingInputWrap:".qfb-setting-input",subSettingWrap:".qfb-sub-setting",subSettingInputWrap:".qfb-sub-setting-input",init:function(){s=t('<div class="qfb-fixed-message"><div><div class="qfb-fixed-message-content"></div><span class="qfb-fixed-message-close"><i class="mdi mdi-close"></i></span></div></div>'),s.find(".qfb-fixed-message-close").click(function(){s.fadeOut("fast",function(){s.detach()})}),r.initNavPopups()},initNavPopups:function(){var n=t(".qfb-nav-popup-trigger");n.each(function(){var e=t(this),i=e.siblings(".qfb-nav-popup-content"),o="qfb-nav-popup-open",s=function(t){(t?n.not(t):n).removeClass(o).siblings(".qfb-nav-popup-content").hide()};e.click(function(){s(e);var n=e.hasClass(o);e[n?"removeClass":"addClass"](o).siblings(".qfb-nav-popup-content")[n?"hide":"show"]()}),e.add(i).click(r.stopPropagation),l.on("click",function(){s()})})},stopPropagation:function(n){n.stopPropagation()},preLoadImages:function(n,t){for(var e=0;e<n.length;e++){var i=new Image;i.src=t?t+n[e]:n[e],a.push(i)}},showFixedMessage:function(n,t,e,i){"number"==typeof c&&(clearTimeout(c),c=null),void 0===e&&(e="success"==t?4e3:0),void 0===i&&(i=0==e),s.find(".qfb-fixed-message-content").html(n),s.find(".qfb-fixed-message-close")[i?"show":"hide"](),s.stop(!0,!0).appendTo(r.cache.get("body")).css({display:"block",opacity:0,right:-s.width()}).attr("class","qfb-fixed-message").addClass("qfb-fixed-"+t+"-message").animate({opacity:1,right:0}),e&&(c=setTimeout(function(){s.fadeOut(function(){s.detach()})},e))},sanitiseResponse:function(n){return null!==n&&"object"==typeof n&&"string"==typeof n.type&&0!==n.type.length||(n={type:"invalid",message:"The response from the server was invalid or malformed"}),n},isValidEmail:function(n){return new RegExp("^[A-Za-z0-9!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9-]+(.[A-Za-z0-9-]+)*$").test(n)},addValidationError:function(n,e){var i=t('<div class="qfb-validation-error">').append(t('<div class="qfb-validation-error-inner">').html(e));return n.append(i),i.qfbSlideShow(),i},addSubmissionError:function(n,e){var i=t('<div class="qfb-submission-error">').append(t('<div class="qfb-submission-error-inner">').html(e));return n.prepend(i),i.qfbSlideShow(),i},log:function(){window.console&&window.console.log&&window.console.log.apply(window.console,arguments)},addAction:function(n,t){if("string"!=typeof n&&!n.length&&"function"!=typeof t)return void r.log("Invalid arguments for addAction, aborting");"undefined"==typeof d[n]&&(d[n]=[]),d[n].push(t)},doAction:function(n){if("string"!=typeof n&&!n.length)return void r.log("Invalid argument for doAction, aborting");if("undefined"!=typeof d[n])for(var t=0;t<d[n].length;t++)d[n][t].apply(d[n][t],arguments.splice(1))},getProperty:function(n,e,i){for(var o=e.split("."),r=o.length,s=0,a=n;s<r;s++){if("undefined"===t.type(a[o[s]])){a=undefined;break}a=a[o[s]]}return"undefined"===t.type(a)?i:a},scrollTo:function(n,e){if(t.isFunction(t.smoothScroll)&&n&&0!==n.length){var i={scrollTarget:n,scrollElement:null,speed:400,offset:-50};e=t.extend({},i,e),r.isScrolledIntoView(n,e.scrollElement)||t.smoothScroll(e)}},isScrolledIntoView:function(n,e){if(e){var i=e.outerHeight(),o=n.position().top,r=o+n.outerHeight(!0);return o>0&&r<i}var s=t(window).scrollTop(),a=s+t(window).height(),o=n.offset().top,r=o+n.height();return r>=s&&o<=a&&r<=a&&o>=s},setSelectVal:function(n,t){return n.val(t),null===n.val()&&n.prop("selectedIndex",0),n},toString:function(n){return n===undefined||null===n?"":""+n},isNonEmptyString:function(n){return"string"==typeof n&&n.length>0},isNonEmptyObject:function(n){for(var t in n)if(n.hasOwnProperty(t))return!0;return!1},clamp:function(n,t,e){return Math.min(Math.max(n,t),e)},htmlEntities:function(n){return t("<div>").text(n).html()},htmlEntityDecode:function(n){return t("<div>").html(n).text()},isColorTransparent:function(n){if(!r.isNonEmptyString(n))return!0;if("transparent"==n)return!0;var t=/rgba\((.+)\)/gi.exec(n);if(t){var e=t[1].split(",");return 4==e.length&&0===parseFloat(e[3])}return!1}},t.fn.qfbMediaBrowser=function(n){var o={mediaOptions:{title:e.selectImage,button:{text:e.select},multiple:!1},callback:t.noop,onOpen:t.noop,onClose:t.noop},r=t.extend(!0,{},o,n);return this.each(function(){var n=t(this);n.data("qfbMediaBrowser")||n.data("qfbMediaBrowser",new i(n,r))})},t.fn.extend({qfbSlideHide:function(n,e){var i={height:"hide",opacity:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},o={duration:400};return n&&(o.complete=n),e&&(i=t.extend(i,e)),this.animate(i,o)},qfbSlideShow:function(n,e){var i={height:"show",opacity:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},o={duration:400};return n&&(o.complete=n),e&&(i=t.extend(i,e)),this.animate(i,o)}}),o.prototype.get=function(n){return this.items[n]===undefined&&(this.items[n]=t(n)),this.items[n]},r.cache=new o,t(document).ready(r.init),n.core=r,n}(quform||{},jQuery,quformCoreL10n);